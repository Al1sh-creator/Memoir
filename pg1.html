<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memoir • Dashboard</title>

    <!-- Bootstrap & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="shared.css">
    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"> -->

    <!-- Custom CSS -->
    <link rel="stylesheet" href="pg1.css">

    <!-- Progress Animation -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll(".progress-animate").forEach(bar => {
                const width = bar.getAttribute("data-width");
                bar.style.width = "0%";
                setTimeout(() => {
                    bar.style.transition = "width 1.2s ease";
                    bar.style.width = width;
                }, 300);
            });
        });
    </script>
    <script>
document.addEventListener('DOMContentLoaded', () => {
    const dashBtn = document.getElementById('dashboardStartSession');
    if (!dashBtn) return;
        dashBtn.addEventListener('click', () => {
        // Navigate to timer page and open Session Timer mode
        window.location.href = 'timer.html?session=1';
    });
});
document.addEventListener("DOMContentLoaded", () => {
  const badgeBox = document.getElementById("recentBadges");
  if (!badgeBox) return;

  const earnedBadges =
    JSON.parse(localStorage.getItem("earnedBadges")) || [];

  // Sort by most recently earned
  const recent = earnedBadges
    .sort((a, b) => b.earnedAt - a.earnedAt)
    .slice(0, 3);

  badgeBox.innerHTML = "";

  if (recent.length === 0) {
    badgeBox.innerHTML = `
      <span class="text-muted">—</span>
      <span class="text-muted">—</span>
      <span class="text-muted">—</span>
    `;
    return;
  }

  recent.forEach(badge => {
    const span = document.createElement("span");
    span.innerText = badge.icon;
    span.title = badge.name;
    badgeBox.appendChild(span);
  });
});
</script>
</head>
<!-- ================= MOBILE BOTTOM NAV ================= -->
<nav class="mobile-nav d-md-none">
    <a href="pg1.html" class="active">
        <i class="bi bi-speedometer"></i>
        <span>Home</span>
    </a>
    <a href="timer.html">
        <i class="bi bi-stopwatch"></i>
        <span>Timer</span>
    </a>
    <a href="Sessions.html">
        <i class="bi bi-book"></i>
        <span>Sessions</span>
        <span class="sessions-nav-count" data-sessions-badge></span>
    </a>
    <a href="#">
        <i class="bi bi-calendar3"></i>
        <span>Plan</span>
    </a>
    <a href="badges1.html">
        <i class="bi bi-trophy-fill"></i>
        <span>Badges</span>
    </a>
</nav>


<body class="bg-light">
    <div class="doodle-layer">
  <span class="doodle circle"></span>
  <span class="doodle zigzag"></span>
  <span class="doodle blob"></span>
  <span class="doodle star"></span>
    <span class="doodle circle"></span>
  <span class="doodle zigzag"></span>
  <span class="doodle blob"></span>
  <span class="doodle star"></span>
    <span class="doodle circle"></span>
  <span class="doodle zigzag"></span>
  <span class="doodle blob"></span>
  <span class="doodle star"></span>
</div>


    <div class="d-flex">

        <!-- ================= SIDEBAR ================= -->
        <nav class="sidebar d-flex flex-column align-items-center bg-black vh-100 py-4 rounded ">
            

            <div class="nav-icons d-flex flex-column gap-2">
                <a href="pg1.html" class="text-decoration-none"><div class="icon-box active"><i class="bi bi-speedometer"></i></div></a>
                <a href="timer.html" class="text-decoration-none"><div class="icon-box"><i class="bi bi-stopwatch"></i></div></a>
                <a href="Sessions.html" class="text-decoration-none"><div class="icon-box"><i class="bi bi-book"></i><span class="sessions-nav-count" data-sessions-badge></span></div></a>
                <a href="calendar.html" class="text-decoration-none"><div class="icon-box"><i class="bi bi-calendar3"></i></div></a>
                <a href="#" class="text-decoration-none"><div class="icon-box"><i class="bi bi-mortarboard-fill"></i></div></a>
                <a href="badges1.html" class="text-decoration-none"><div class="icon-box"><i class="bi bi-trophy-fill"></i></div></a>
                <a href="analytics.html" class="text-decoration-none"><div class="icon-box"><i class="bi bi-bar-chart-line"></i></div></a>
                <a href="settings.html" class="text-decoration-none"><div class="icon-box"><i class="bi bi-gear"></i></div></a>
            </div>

            <div class="mt-auto mb-3">
                <a href="landing.html" class="text-decoration-none" data-bs-toggle="tooltip" data-bs-placement="right" title="Logout">
                    <div class="icon-box logout-btn">
                        <i class="bi bi-box-arrow-right"></i>
                    </div>
                </a>
            </div>  
        </nav>

        <!-- ================= MAIN CONTENT ================= -->
        <main class="container-fluid p-4">

            <!-- ===== Header ===== -->
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div>
                    <small class="text-muted text-uppercase fw-bold">
                        23/12/25 • Calendar Week 52 • Project 2025
                    </small>
                    <h1 class="h2 fw-bold">
                        Dashboard
                        <span class="tooltip-container">
                            <i class="fa-regular fa-circle-question fs-5 text-muted"></i>
                            <div class="custom-tooltip">
                                <strong>Project 2025 Dashboard</strong><br>
                                Track progress, streaks & milestones.
                            </div>
                        </span>
                    </h1>
                </div>

                <div class="d-flex gap-2">
                    <button class="btn btn-dark rounded-pill px-4" id="dashboardStartSession">+ Session</button>
                    <button class="btn btn-primary rounded-pill px-4">
                        <i class="fa-solid fa-play me-2"></i>Timer
                    </button>
                    <button class="btn btn-success rounded-pill px-4">
                        <i class="fa-solid fa-lightbulb me-2"></i>SmartTimer
                    </button>
                </div>
            </div>

            <!-- ================= ROW 1 : streaks+goals ================= -->
            <div class="row g-4">

                <!-- Streaks -->
                <div class="col-md-3">
                    <div class="card border-0 shadow-sm p-3 h-100 rounded-4">
                        <div class="row text-center mb-4">
                            <div class="col">Today<br><strong>-</strong></div>
                            <div class="col">Week<br><strong>-</strong></div>
                            <div class="col">Month<br><strong>-</strong></div>
                        </div>

                        <h6 class="fw-bold">Streaks</h6>
                        <div class="d-flex justify-content-between mb-4">
                            <span>Sun<br><i class="fa-solid fa-xmark text-danger"></i></span>
                            <span>Mon<br><i class="fa-solid fa-xmark text-danger"></i></span>
                            <span>Tue<br><i class="fa-solid fa-question text-primary"></i></span>
                        </div>

                        <div class="medal-section p-3 rounded-4 mt-auto">
  <h6 class="fw-bold">Medals</h6>

  <div id="recentBadges" class="d-flex justify-content-around fs-4">
    <span class="text-muted">—</span>
    <span class="text-muted">—</span>
    <span class="text-muted">—</span>
  </div>

  <small class="text-muted d-block text-center mt-2">
    Last earned badges
  </small>
</div>

                    </div>
                </div>

                <!-- Goals -->
                <div class="col-md-5">
                    <div class="card border-0 shadow-sm p-4 h-100 rounded-4">
                        <h5 class="fw-bold mb-3">Goals</h5>

                        <ul class="nav nav-pills custom-pills d-flex mb-3">
                            <li class="nav-item flex-fill">
                                <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#day">Day</button>
                            </li>
                            <li class="nav-item flex-fill">
                                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#total">Weekly</button>
                            </li>
                            <li class="nav-item flex-fill">
                                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#total">Monthly</button>
                            </li>
                             <li class="nav-item flex-fill">
                                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#total">Total</button>
                            </li>
                        </ul>

                        <div class="tab-content">
                            <div class="tab-pane fade show active" id="day">
                                <div class="text-center my-4">
                                    <small class="text-muted">Goal Today</small>
                                    <h2 class="display-4 fw-bold">4h</h2>
                                    <div class="progress mt-3" style="height: 10px;">
                                        <div class="progress-bar bg-primary progress-animate" data-width="50%"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane fade" id="total">
                                <div class="text-center my-4">
                                    <small class="text-muted">Goal Total</small>
                                    <h2 class="display-4 fw-bold">62h</h2>
                                    <div class="progress mt-3" style="height: 10px;">
                                        <div class="progress-bar bg-dark progress-animate" data-width="30%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex justify-content-between small text-muted">
                            <span>Study progress: 0%</span>
                            <span>Time elapsed: 30%</span>
                        </div>
                    </div>
                </div>

                <!-- Focus Score -->
                <div class="col-md-4">
                    <div class="card border-0 shadow-sm p-4 rounded-4">
                        <h6 class="fw-bold">Focus Score</h6>
                        <h1 class="display-5 fw-bold text-primary">78%</h1>
                        <small class="text-muted">↑ 6% from last week</small>
                    </div>
                </div>
            </div>

            <!-- ================= ROW 2 : Insights ================= -->
            <div class="row g-4 mt-1">

                <div class="col-md-4">
                    <div class="card border-0 shadow-sm p-4 rounded-4">
                        <h6 class="fw-bold">Needs Attention</h6>
                        <h5 class="text-danger fw-bold">Operating Systems</h5>
                        <small class="text-muted">Least studied this week</small>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card border-0 shadow-sm p-4 rounded-4">
                        <h6 class="fw-bold mb-3">Last 7 Days</h6>
                        <div class="d-flex gap-2">
                            <div class="heat active"></div>
                            <div class="heat active"></div>
                            <div class="heat"></div>
                            <div class="heat active"></div>
                            <div class="heat"></div>
                            <div class="heat active"></div>
                            <div class="heat"></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="card border-0 shadow-sm p-3 rounded-4 h-100 text-center">
                        <h6 class="fw-bold mb-3">Quick Start</h6>
                        <button class="btn btn-primary btn-sm rounded-pill w-100 mb-2">
                            <i class="fa-solid fa-play"></i>
                        </button>
                        <small class="text-muted">Start Session</small>
                    </div>
                </div>
            </div>

            <!-- ================= ROW 3 : Reflection+Exams ================= -->
            <div class="row g-4 mt-1">

                <div class="col-md-6">
                    <div class="card border-0 shadow-sm p-4 rounded-4">
                        <h6 class="fw-bold">Last Reflection</h6>
                        <p class="text-muted small">
                            “Revised trees & graphs. Need more practice on rotations.”
                        </p>
                        <button class="btn btn-outline-primary btn-sm rounded-pill">
                            Write Reflection
                        </button>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card border-0 shadow-sm p-4 h-100 rounded-4">
                        <h5 class="fw-bold">Study days • 3/10</h5>
                        <div class="text-center py-5">
                            <i class="fa-solid fa-graduation-cap fs-1 text-muted mb-3"></i>
                            <h6>No exams.</h6>
                            <p class="text-muted small">All exams passed—or none created yet</p>
                        </div>
                    </div>
                </div>

            </div>

        </main>
    </div>
</body>

</html>

