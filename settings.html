<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Memoir ‚Ä¢ Settings</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" rel="stylesheet">

  <!-- Shared Styles -->
  <link rel="stylesheet" href="pg1.css">
  
  <!-- Mobile Navbar -->
  <link rel="stylesheet" href="mobile-navbar.css">

  <style>
    /* Match Memoir card language */
    .settings-card {
      background: white;
      border-radius: 28px;
      border: 1px solid rgba(0,0,0,0.04);
      box-shadow: 0 10px 30px rgba(0,0,0,0.03);
      padding: 24px;
    }

    .settings-title {
      font-weight: 800;
      margin-bottom: 4px;
    }

    .settings-subtitle {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: #6c757d;
      font-weight: 700;
    }

    .form-switch .form-check-input {
      width: 2.6em;
      height: 1.4em;
    }

    .danger-card {
      border: 1px solid rgba(220,53,69,0.25);
      background: linear-gradient(180deg,#fff,#fff5f5);
    }

    .section-divider {
      margin: 18px 0;
      border-top: 1px dashed #dee2e6;
    }
  </style>
</head>

<body class="bg-light">

<!-- ================= MOBILE BOTTOM NAVBAR ================= -->
<nav class="mobile-navbar">
  <a href="pg1.html">
    <i class="bi bi-speedometer"></i>
    <span>Home</span>
  </a>
  <a href="timer.html">
    <i class="bi bi-stopwatch"></i>
    <span>Timer</span>
  </a>
  <a href="Sessions.html">
    <i class="bi bi-book"></i>
    <span>Sessions</span>
    <span class="nav-badge" data-sessions-badge></span>
  </a>
  <a href="calendar.html">
    <i class="bi bi-calendar3"></i>
    <span>Calendar</span>
  </a>
  <a href="subjects.html">
    <i class="bi bi-mortarboard-fill"></i>
    <span>Subjects</span>
  </a>
  <a href="badges1.html">
    <i class="bi bi-trophy-fill"></i>
    <span>Badges</span>
  </a>
  <a href="analytics.html">
    <i class="bi bi-bar-chart-line"></i>
    <span>Analytics</span>
  </a>
  <a href="settings.html" class="active">
    <i class="bi bi-gear"></i>
    <span>Settings</span>
  </a>
</nav>

<!-- DOODLES (consistent with other pages) -->
<div class="doodle-layer">
  <span class="doodle circle"></span>
  <span class="doodle zigzag"></span>
  <span class="doodle blob"></span>
  <span class="doodle star"></span>
</div>

<div class="d-flex">

  <!-- SIDEBAR -->
  <nav class="sidebar d-flex flex-column align-items-center bg-black vh-100 py-4 rounded d-none d-md-flex">
    <div class="mb-4"><i class="bi bi-owl fs-3 text-white"></i></div>

    <div class="nav-icons d-flex flex-column gap-2">
      <a href="pg1.html" class="text-decoration-none"><div class="icon-box"><i class="bi bi-speedometer"></i></div></a>
      <a href="timer.html" class="text-decoration-none"><div class="icon-box"><i class="bi bi-stopwatch"></i></div></a>
      <a href="Sessions.html" class="text-decoration-none"><div class="icon-box"><i class="bi bi-book"></i></div></a>
      <a href="calendar.html" class="text-decoration-none"><div class="icon-box"><i class="bi bi-calendar3"></i></div></a>
      <a href="#" class="text-decoration-none"><div class="icon-box"><i class="bi bi-mortarboard-fill"></i></div></a>
      <a href="badges1.html" class="text-decoration-none"><div class="icon-box"><i class="bi bi-trophy-fill"></i></div></a>
      <a href="analytics.html" class="text-decoration-none"><div class="icon-box"><i class="bi bi-bar-chart-line"></i></div></a>
      <a href="settings.html" class="text-decoration-none">
        <div class="icon-box active"><i class="bi bi-gear"></i></div>
      </a>
    </div>

    <div class="mt-auto mb-3">
      <div class="icon-box logout-btn" onclick="handleLogout()" style="cursor: pointer;"><i class="bi bi-box-arrow-right"></i></div>
    </div>
  </nav>

  <!-- MAIN -->
  <main class="container-fluid p-4">

    <!-- HEADER -->
    <div class="mb-4">
      <small class="settings-subtitle">Preferences</small>
      <h1 class="settings-title">Settings</h1>
    </div>

    <div class="row g-4">

      <!-- ACCOUNT -->
      <div class="col-lg-6">
        <div class="settings-card">
          <h5 class="fw-bold mb-3">üë§ Account</h5>

          <div class="mb-3">
            <label class="form-label small fw-bold">Display Name</label>
            <input type="text" class="form-control" id="displayName" placeholder="Your name">
          </div>

          <div class="mb-3">
            <label class="form-label small fw-bold">Email</label>
            <input type="email" class="form-control" disabled value="user@email.com">
          </div>

          <button class="btn btn-primary rounded-pill px-4">Save</button>
        </div>
      </div>

      <!-- STUDY PREFERENCES -->
      <div class="col-lg-6">
        <div class="settings-card">
          <h5 class="fw-bold mb-3">üìö Study Preferences</h5>

            <div class="row g-3">
              <div class="col-12">
                <label class="form-label small fw-bold">Focus Duration</label>
                <select class="form-select" id="focusDuration">
                  <option>25 min</option>
                  <option>50 min</option>
                  <option>90 min</option>
                </select>
              </div>
            </div>
        </div>
      </div>

      <!-- STUDY GOALS -->
      <div class="col-lg-6">
        <div class="settings-card">
          <h5 class="fw-bold mb-3">üéØ Study Goals</h5>

          <div class="mb-3">
            <label class="form-label small fw-bold">Daily Goal (hours)</label>
            <input type="number" class="form-control" id="dailyGoal" min="1" max="12" step="0.5" value="4">
            <small class="text-muted">Target study time per day</small>
          </div>

          <div class="mb-3">
            <label class="form-label small fw-bold">Weekly Goal (hours)</label>
            <input type="number" class="form-control" id="weeklyGoal" min="5" max="80" step="1" value="20">
            <small class="text-muted">Target study time per week</small>
          </div>

          <div class="mb-3">
            <label class="form-label small fw-bold">Monthly Goal (hours)</label>
            <input type="number" class="form-control" id="monthlyGoal" min="20" max="300" step="1" value="80">
            <small class="text-muted">Target study time per month</small>
          </div>

          <div class="mb-3">
            <label class="form-label small fw-bold">Total Goal (hours)</label>
            <input type="number" class="form-control" id="totalGoal" min="50" max="1000" step="10" value="200">
            <small class="text-muted">Your overall target</small>
          </div>

          <button class="btn btn-primary rounded-pill px-4" id="saveGoalsBtn">Save Goals</button>
        </div>
      </div>

      <!-- AUTOMATION -->
      <div class="col-lg-6">
        <div class="settings-card">
          <h5 class="fw-bold mb-3">‚è± Automation</h5>

          <div class="form-check form-switch mb-2">
            <input class="form-check-input" type="checkbox" id="autoLogSessions">
            <label class="form-check-label">Auto-log sessions to calendar</label>
          </div>

          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="pauseOnInactivity">
            <label class="form-check-label">Pause on inactivity</label>
          </div>
        </div>
      </div>

      <!-- NOTIFICATIONS -->
      <div class="col-lg-6">
        <div class="settings-card">
          <h5 class="fw-bold mb-3">üîî Notifications</h5>

          <div class="form-check form-switch mb-3">
            <input class="form-check-input" type="checkbox" id="dailyReminder">
            <label class="form-check-label">Daily Study Reminder</label>
          </div>

          <input type="time" class="form-control w-50" id="reminderTime">
        </div>
      </div>

      <!-- APPEARANCE -->
      <div class="col-lg-6">
        <div class="settings-card">
          <h5 class="fw-bold mb-3">üé® Appearance</h5>

          <div class="row g-3">
            <div class="col-6">
              <label class="form-label small fw-bold">Theme</label>
              <select class="form-select" id="themeSelect">
  <option value="light">Light</option>
  <option value="dark">Dark</option>
  <option value="system">System</option>
</select>
            </div>
            <div class="col-6">
              <label class="form-label small fw-bold">Accent Color</label>
              <input type="color" class="form-control form-control-color" id="accentColor">
              <input class="form-check-input" type="checkbox" id="compactToggle">

            </div>
          </div>
        </div>
      </div>

      <!-- DANGER ZONE -->
      <div class="col-lg-6">
        <div class="settings-card danger-card">
          <h5 class="fw-bold text-danger mb-3">‚ö†Ô∏è Privacy & Data</h5>

          <button class="btn btn-outline-secondary" id="exportData">Export Study Data</button>
          <div class="section-divider"></div>
          <button class="btn btn-outline-danger" id="deleteAccount">Delete Account</button>
        </div>
      </div>

    </div>
  </main>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Check authentication first
        if (!auth.requireAuth()) {
            return; // Will redirect to login
        }
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="shared.js"></script>
<script src="auth.js"></script>
<script src="setting.js"></script>
<script src="mobile-navbar.js"></script>

<script>
    function handleLogout() {
        auth.logout();
        window.location.href = 'landing.html';
    }
</script>

</body>
</html>
